<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title></title>
    <style>
        .arrow {
            cursor: pointer;
            padding: 2px;
            background-color: #EEEEEE;
            display: inline-block;
            width: 140px;
            font-size: 120px;
            text-align: center;
            user-select: none;
            -webkit-user-select: none;
        }
    </style>
</head>
<body>
    <div class="arrow" onmousedown="sendCommand('turnLeft', '');" onmouseup="sendCommand('turnStop', '');">↶</div>
    <div class="arrow" onmousedown="sendCommand('turnRight', '');" onmouseup="sendCommand('turnStop', '');"> ↷</div>
    <hr />
    <input type="button" value="Turn Left" onclick="sendCommand('turnLeft','');" />
    <input type="button" value="Turn Right" onclick="sendCommand('turnRight','');" />
    <input type="button" value="Stop" onclick="sendCommand('turnStop','');" />
    <hr />
    <input type="button" value="Play Sound" onclick="sendCommand('sound','WellDone.wav');" />
    <input type="button" value="Fart" onclick="sendCommand('fart','');" />
    <hr />
    <input id="txtCommand" type="text" />
    <input id="txtArgs" type="text" />
    <input type="button" value="Send" onclick="sendCommand(document.getElementById('txtCommand').value, document.getElementById('txtArgs').value);" />
    <script>
        document.onkeydown = checkKeyDown;
        document.onkeyup = checkKeyUp;
        function checkKeyDown(e) {

            e = e || window.event;

            if (e.keyCode == '38') {
                // up arrow
            }
            else if (e.keyCode == '40') {
                // down arrow
            }
            else if (e.keyCode == '37') {
                // left arrow
                sendCommand('turnLeft', '');
            }
            else if (e.keyCode == '39') {
                // right arrow
                sendCommand('turnRight', '');
            }
        }

        function checkKeyUp(e) {

            e = e || window.event;

            if (e.keyCode == '38') {
                // up arrow
            }
            else if (e.keyCode == '40') {
                // down arrow
            }
            else if (e.keyCode == '37') {
                // left arrow
                sendCommand('turnStop', '');
            }
            else if (e.keyCode == '39') {
                // right arrow
                sendCommand('turnStop', '');
            }


        }
    </script>


    <script src="socket.io.js"></script>
    <script>
        //var socket = io();
        var socket = io('http://dollheadweb.azurewebsites.net');

        //recieve
        socket.on('command', function (command, args) {
        });

        //send
        function sendCommand(command, args) {
            socket.emit('command', command, args);
        }

    </script>
</body>
</html>